<UserControl x:Class="CryptoPro.WpfApp.MVVM.Views.UserControls.MainInformationUC"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:CryptoPro.WpfApp.MVVM.Views.UserControls"
             xmlns:viewmodels="clr-namespace:CryptoPro.WpfApp.MVVM.ViewModels.UserControls"
             xmlns:fa5="http://schemas.fontawesome.com/icons/"
             xmlns:scottplot="http://schemas.scottplot.net/2008/xaml/presentation"
             xmlns:conventers="clr-namespace:CryptoPro.WpfApp.Conventers"
             xmlns:system="clr-namespace:System;assembly=System.Runtime"
             d:DataContext="{d:DesignInstance Type=viewmodels:MainInformationViewModel}"
             mc:Ignorable="d"
             Background="#000000"
             Width="1500" Height="2200">

    <UserControl.Resources>
        <Style x:Key="CenterGridHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#ebe3d7" />
            <Setter Property="Height" Value="50" />
        </Style>
        <Style x:Key="LeftGridHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#ebe3d7" />
            <Setter Property="Height" Value="50" />
        </Style>
        <Style x:Key="RightGridHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="HorizontalContentAlignment" Value="Right" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#ebe3d7" />
            <Setter Property="Height" Value="50" />
        </Style>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <conventers:CurrencyToVisibility x:Key="CurrencyToVisibility" />
        <conventers:ToUpper x:Key="ToUpper" />
        <conventers:DecimalToVariableCurrency x:Key="DecimalToVariableCurrency" />
        <conventers:LongToZeroCurrency x:Key="LongToZeroCurrency" />
        <conventers:FloatToZeroCurrency x:Key="FloatToZeroCurrency" />
        <conventers:PercentageToText x:Key="PercentageToText" />
        <conventers:PercentageToBrush x:Key="PercentageToBrush" />
        <system:String x:Key="usd">usd</system:String>
        <system:String x:Key="eur">eur</system:String>
    </UserControl.Resources>
    <Grid>
        <Grid Panel.ZIndex="1"
              Margin="0,0,0,0"
              Visibility="{Binding LoadingVisibility}">
            <Grid Opacity="0.9" Background="Black" />
            <StackPanel HorizontalAlignment="Center" Margin="0,500,0,0" VerticalAlignment="Top">
                <fa5:SvgAwesome Name="LoadingIcon" Height="30" Width="30" Icon="Solid_CircleNotch" Spin="True"
                                SpinDuration="0.65" Foreground="Gray" />
                <TextBlock Name="LoadingTitle" HorizontalAlignment="Center" Foreground="DarkGray"
                           FontWeight="SemiBold" FontSize="18" Text="Loading data from API..."
                           Margin="0 10 0 0" />
                <TextBlock Name="LoadingDescription" FontWeight="Medium" Foreground="Gray"
                           FontSize="12.5" Text="It will take some time" HorizontalAlignment="Center"
                           Margin="0 10 0 20" />
                <Button HorizontalAlignment="Center"
                        x:Name="DismissErrorButton"
                        Visibility="Visible"
                        Command="{Binding DismissErrorCommand}">
                    <Button.Style>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Cursor="Hand" CornerRadius="5"
                                                Background="{TemplateBinding Background}" Padding="40 10">
                                            <ContentPresenter />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Background" Value="#3861fb" />
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#2c4cc7" />
                                </Trigger>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="Background" Value="#2c4cc7" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <TextBlock VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               FontWeight="Medium"
                               FontSize="12.5"
                               Foreground="White">
                        Retry
                    </TextBlock>
                </Button>
            </StackPanel>
        </Grid>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="2000" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Grid Grid.Row="0"
                  ZIndex="100"
                  Height="100">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0"
                            Orientation="Vertical"
                            Margin="30 30 0 0">
                    <TextBlock Text="Today's Cryptocurrency Prices by Market Cap"
                               FontSize="24"
                               Foreground="White"
                               FontWeight="SemiBold" />
                    <StackPanel Orientation="Horizontal">
                        <TextBlock
                            Text="{Binding GlobalMarketCapText, StringFormat='The global crypto market cap is {0} a '}"
                            Margin="0 5 0 0"
                            FontSize="12.5"
                            Foreground="Gray"
                            FontWeight="SemiBold" />
                        <TextBlock Text="1.32%"
                                   FontSize="12.5"
                                   Margin="0 5 0 0"
                                   FontWeight="SemiBold"
                                   Foreground="Red" />
                        <TextBlock Text=" decrease over the last day."
                                   Margin="0 5 0 0"
                                   FontSize="12.5"
                                   Foreground="Gray"
                                   FontWeight="SemiBold" />
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.Column="1"
                            Margin="0 25 0 0 "
                            Orientation="Horizontal"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top">
                    <Border Margin="0 0 20 0"
                            VerticalAlignment="Top"
                            CornerRadius="5"
                            HorizontalAlignment="Right"
                            Padding="10 8"
                            Background="#3c3c3c">
                        <StackPanel Orientation="Horizontal">
                            <Ellipse Width="8" Height="8" Fill="LightGray">
                                <Ellipse.Triggers>
                                    <EventTrigger RoutedEvent="Ellipse.Loaded">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimationUsingKeyFrames
                                                        Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)"
                                                        Duration="0:0:5"
                                                        FillBehavior="HoldEnd"
                                                        RepeatBehavior="Forever">
                                                        <ColorAnimationUsingKeyFrames.KeyFrames>
                                                            <EasingColorKeyFrame KeyTime="0:0:0" Value="Red" />
                                                            <LinearColorKeyFrame KeyTime="0:0:2"
                                                                Value="#3c3c3c" />
                                                            <EasingColorKeyFrame KeyTime="0:0:3" Value="Red" />
                                                        </ColorAnimationUsingKeyFrames.KeyFrames>
                                                    </ColorAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Ellipse.Triggers>
                            </Ellipse>
                            <TextBlock
                                Margin="3 0 0 0"
                                FontWeight="Semibold"
                                Text="Live"
                                Foreground="White" />
                        </StackPanel>
                    </Border>

                    <StackPanel Margin="0 0 0 0"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Right">
                        <Button x:Name="CurrenciesButton"
                                Cursor="Hand"
                                HorizontalAlignment="Right">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border CornerRadius="5"
                                                        MouseDown="ToggleCurrencyDropdown"
                                                        Background="{TemplateBinding Background}"
                                                        Padding="12 8 10 8">
                                                    <ContentPresenter />
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter Property="Background" Value="#3c3c3c" />
                                    <Style.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#5c5c5c" />
                                        </Trigger>
                                        <Trigger Property="IsFocused" Value="True">
                                            <Setter Property="Background" Value="#5c5c5c" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            <TextBlock FontWeight="SemiBold"
                                       Foreground="#FFFFFF">
                                <Run Text="{Binding SelectedCurrency.Id, Converter={StaticResource ToUpper}}" />
                                <Run>⏷</Run>
                            </TextBlock>
                        </Button>
                        <Canvas Margin="-50 0 0 0"
                                RenderOptions.ClearTypeHint="Enabled">
                            <Border Margin="2 8 0 0"
                                    BorderThickness="0"
                                    CornerRadius="6.5"
                                    BorderBrush="Transparent"
                                    Background="#000000">
                                <Border x:Name="CurrenciesBorder"
                                        Margin="0 0  0 0"
                                        BorderBrush="#3c3c3c"
                                        Background="#3c3c3c"
                                        BorderThickness="3"
                                        CornerRadius="6.5"
                                        Visibility="{Binding IsSelectedCurrencyOpen, Converter={StaticResource BoolToVis}}"
                                        HorizontalAlignment="Center">
                                    <ItemsControl ItemsSource="{Binding Currencies}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Button Cursor="Hand"
                                                        CommandParameter="{Binding Path=.}"
                                                        Command="{Binding SelectCurrencyCommand, 
                                                        RelativeSource={RelativeSource AncestorType=UserControl}}">
                                                    <Button.Style>
                                                        <Style TargetType="{x:Type Button}">
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="Button">
                                                                        <Border CornerRadius="6"
                                                                            Background="{TemplateBinding Background}"
                                                                            Padding="12 10">
                                                                            <ContentPresenter />
                                                                        </Border>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="Background" Value="#3C3C3C" />
                                                            <Style.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#5C5C5C" />
                                                                </Trigger>
                                                                <Trigger Property="IsFocused" Value="True">
                                                                    <Setter Property="Background" Value="#5C5C5C" />
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                    <WrapPanel>
                                                        <StackPanel Orientation="Horizontal"
                                                                    Margin="0 0 25 0">
                                                            <Viewbox Margin="-9 -22 0 0" Height="0.925"
                                                                     Width="0.925">
                                                                <Canvas Width="1" Height="1">
                                                                    <Path Fill="#3861FB"
                                                                          Data="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" />
                                                                    <Path Fill="White"
                                                                          Data="M14.4964 10.2148H9.93795C10.3675 8.65779 11.4057 7.90494 12.7422 7.90494C13.7864 7.90494 14.5919 8.37262 15.1647 8.80608L16 7.10646C15.1169 6.39924 14.0191 6 12.7422 6C10.2064 6 8.29117 7.55133 7.70644 10.2148H6.47136L6 11.4297H7.53938C7.52745 11.6179 7.52148 11.8118 7.52148 12.0114C7.52148 12.1996 7.52745 12.3878 7.53938 12.5703H6.47136L6 13.8023H7.70644C8.29117 16.4601 10.2064 18 12.7422 18C13.9714 18 15.111 17.6407 15.9642 16.9335L15.1169 15.2338C14.5979 15.6331 13.7924 16.0951 12.7422 16.0951C11.3998 16.0951 10.3675 15.3593 9.93795 13.8023H12.778L13.3926 12.5703H9.74105C9.72912 12.3935 9.72315 12.2053 9.72315 12.0114C9.72315 11.8118 9.72912 11.6179 9.74105 11.4297H13.9177L14.4964 10.2148Z" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <StackPanel.Style>
                                                                <Style TargetType="StackPanel">
                                                                    <Setter Property="Visibility">
                                                                        <Setter.Value>
                                                                            <MultiBinding
                                                                                Converter="{StaticResource CurrencyToVisibility}">
                                                                                <Binding Path="Id" />
                                                                                <Binding Source="{StaticResource eur}" />
                                                                            </MultiBinding>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Style>
                                                            </StackPanel.Style>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Margin="0 0 25 0">
                                                            <Viewbox Margin="-9 -22 0 0" Height="0.925"
                                                                     Width="0.925">
                                                                <Canvas Width="1" Height="1">
                                                                    <Path Fill="#16C784"
                                                                          Data="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" />
                                                                    <Path Fill="White"
                                                                          Data="M11.4758 19H12.5547L12.5598 17.7477C14.743 17.5781 15.9949 16.2875 16 14.4555C15.9949 12.5141 14.5038 11.6281 12.9364 11.2289L12.6005 11.1359L12.6209 8.01328C13.4351 8.16641 13.9593 8.69141 14.0407 9.47891H15.8575C15.827 7.73984 14.5547 6.47109 12.631 6.27422L12.6361 5H11.5573L11.5522 6.27422C9.64377 6.48203 8.26972 7.73984 8.27481 9.55C8.27481 11.1578 9.33842 12.082 11.0534 12.5578L11.5115 12.6836L11.4911 15.9922C10.5802 15.8391 9.92366 15.2812 9.85751 14.2914H8C8.07125 16.3422 9.38422 17.5617 11.4809 17.7477L11.4758 19ZM12.57 15.9922L12.5903 12.9898C13.5165 13.2797 14.1069 13.6625 14.112 14.4391C14.1069 15.2484 13.5013 15.8281 12.57 15.9922ZM11.5216 10.8406C10.8193 10.6 10.1781 10.2008 10.1883 9.42422C10.1934 8.71875 10.687 8.17188 11.542 8.01328L11.5216 10.8406Z" />
                                                                </Canvas>
                                                            </Viewbox>
                                                            <StackPanel.Style>
                                                                <Style TargetType="StackPanel">
                                                                    <Setter Property="Visibility">
                                                                        <Setter.Value>
                                                                            <MultiBinding
                                                                                Converter="{StaticResource CurrencyToVisibility}">
                                                                                <Binding Path="Id" />
                                                                                <Binding
                                                                                    Source="{StaticResource usd}" />
                                                                            </MultiBinding>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Style>
                                                            </StackPanel.Style>
                                                        </StackPanel>
                                                        <StackPanel>
                                                            <TextBlock
                                                                FontWeight="Medium"
                                                                Text="{Binding Name}"
                                                                Foreground="#FFFFFF" />
                                                            <TextBlock
                                                                FontWeight="Medium"
                                                                Foreground="#b3b9c5">
                                                                <Run
                                                                    Text="{Binding Id, Converter={StaticResource ToUpper}}" />
                                                                -
                                                                <Run Text="{Binding Symbol}" />
                                                            </TextBlock>
                                                        </StackPanel>
                                                    </WrapPanel>
                                                </Button>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Border>
                                <Border.Effect>
                                    <DropShadowEffect Color="Gray"
                                                      ShadowDepth="2"
                                                      BlurRadius="30"
                                                      Opacity="0.15" />
                                </Border.Effect>
                            </Border>
                        </Canvas>
                    </StackPanel>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1"
                  ZIndex="1">
                <DataGrid Background="Transparent"
                          BorderBrush="Transparent"
                          IsReadOnly="True"
                          CanUserReorderColumns="False"
                          VerticalScrollBarVisibility="Hidden"
                          AutoGenerateColumns="False"
                          ColumnHeaderStyle="{StaticResource  CenterGridHeaderStyle}"
                          FontSize="12.5"
                          GridLinesVisibility="Horizontal"
                          HorizontalGridLinesBrush="Gray"
                          CanUserResizeColumns="False"
                          HeadersVisibility="Column"
                          RowHeight="75"
                          MouseUp="CoinsOnMouseUp"
                          ItemsSource="{Binding CurrentPageCoins }"
                          SelectedItem="{Binding SelectedCoin}">
                    <DataGrid.Resources>
                        <ResourceDictionary>
                            <Style x:Key="{x:Type DataGridCell}" TargetType="{x:Type DataGridCell}">
                                <Setter Property="Background" Value="{x:Null}" />
                                <Setter Property="BorderBrush" Value="{x:Null}" />
                                <Style.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="{x:Null}" />
                                        <Setter Property="BorderBrush" Value="{x:Null}" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                            <Style TargetType="{x:Type DataGridRow}">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#222222" />
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="False">
                                        <Setter Property="Background" Value="Black" />
                                        <Setter Property="BorderBrush" Value="Black" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ResourceDictionary>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <!-- 1 column (#) -->
                        <DataGridTemplateColumn Header="#"
                                                SortMemberPath="Id"
                                                CanUserSort="True"
                                                Width="70">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Id}"
                                               FontWeight="Medium"
                                               FontSize="12.5"
                                               Foreground="#ebe3d7"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 2 column (Name) -->
                        <DataGridTemplateColumn Header="Name"
                                                SortMemberPath="FullName"
                                                HeaderStyle="{StaticResource  LeftGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="250">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Image Source="{Binding ImageUri}"
                                               Height="35"
                                               Width="35" />
                                        <Border Width="10" />
                                        <TextBlock Text="{Binding FullName}"
                                                   TextWrapping="Wrap"
                                                   FontWeight="Medium"
                                                   FontSize="12.5"
                                                   Foreground="#ebe3d7"
                                                   VerticalAlignment="Center"
                                                   MaxWidth="150"
                                                   HorizontalAlignment="Left" />
                                        <Border Width="10" />
                                        <TextBlock Text="{Binding ShortName, Converter={StaticResource ToUpper}}"
                                                   FontWeight="Medium"
                                                   FontSize="12.5"
                                                   Foreground="DarkGray"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Left" />
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 3 column (Price) -->
                        <DataGridTemplateColumn Header="Price"
                                                SortMemberPath="CurrentPrice"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="100">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock FontSize="12.5"
                                               Text="{Binding CurrentPrice, Converter={StaticResource DecimalToVariableCurrency}}"
                                               FontWeight="Medium"
                                               Foreground="#ebe3d7"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 4 column (24 hours %) -->
                        <DataGridTemplateColumn Header="24h %"
                                                SortMemberPath="PriceChangePercentage24h"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="90">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock FontSize="12.5"
                                               Text="{Binding PriceChangePercentage24h, 
                                               Converter={StaticResource PercentageToText}}"
                                               FontWeight="Medium"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               Foreground="{Binding PriceChangePercentage24h, 
                                        Converter={StaticResource PercentageToBrush}}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 5 column (7 day %) -->
                        <DataGridTemplateColumn Header="7d %"
                                                SortMemberPath="PriceChangePercentage7d"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="90">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock FontSize="12.5"
                                               Text="{Binding PriceChangePercentage7d, 
                                               Converter={StaticResource PercentageToText}}"
                                               FontWeight="Medium"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               Foreground="{Binding PriceChangePercentage7d, 
                                        Converter={StaticResource PercentageToBrush}}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 6 column (Market Cap) -->
                        <DataGridTemplateColumn Header="Market Cap"
                                                SortMemberPath="MarketCap"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="180">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock
                                        Text="{Binding MarketCap, Converter={StaticResource LongToZeroCurrency}}"
                                        FontWeight="Medium"
                                        FontSize="12.5"
                                        Foreground="#ebe3d7"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Right" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 7 column (Total Volume) -->
                        <DataGridTemplateColumn Header="Total Volume"
                                                SortMemberPath="TotalVolume"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="180">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock
                                        Text="{Binding TotalVolume, Converter={StaticResource FloatToZeroCurrency}}"
                                        FontWeight="Medium"
                                        FontSize="12.5"
                                        Foreground="#ebe3d7"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Right" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 8 column (Circulating Supply) -->
                        <DataGridTemplateColumn Header="Circulating Supply"
                                                SortMemberPath="CirculatingSupply"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="True"
                                                CanUserResize="False"
                                                Width="210">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Right">
                                        <TextBlock Text="{Binding CirculatingSupply, StringFormat=' {0:N0}'}"
                                                   FontWeight="Medium"
                                                   FontSize="12.5"
                                                   Foreground="#ebe3d7"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Right" />
                                        <Border Width="5" />
                                        <TextBlock Text="{Binding ShortName, Converter={StaticResource ToUpper}}"
                                                   FontWeight="Medium"
                                                   FontSize="12.5"
                                                   Foreground="#ebe3d7"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Right" />
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 9 column (Chart) -->
                        <DataGridTemplateColumn Header="Last 7 days"
                                                HeaderStyle="{StaticResource  RightGridHeaderStyle}"
                                                CanUserSort="False"
                                                CanUserResize="False"
                                                Width="300">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <ContentControl Content="{Binding PlotControl, Mode=OneWay}"
                                                    VerticalContentAlignment="Top"
                                                    Margin="15,-5,0,0"
                                                    VerticalAlignment="Top"
                                                    Height="100"
                                                    Width="300" />

                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                    <DataGrid.InputBindings>
                        <MouseBinding
                            MouseAction="LeftDoubleClick"
                            Command="{Binding TableClickCommand}" />
                    </DataGrid.InputBindings>
                </DataGrid>
            </Grid>
            <StackPanel Grid.Row="2"
                        Height="50"
                        VerticalAlignment="Top"
                        HorizontalAlignment="Center"
                        Orientation="Horizontal">
                <Button Width="120"
                        Visibility="{Binding PreviousPageButtonVisibility}"
                        Command="{Binding PreviousPageCommand}">
                    <Button.Style>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            Cursor="Hand"
                                            CornerRadius="5"
                                            BorderThickness="0.75"
                                            BorderBrush="#00FFFFFF"
                                            Background="{TemplateBinding Background}"
                                            Padding="14 6 18 6">
                                            <ContentPresenter />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Background" Value="#151515" />
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#151515" />
                                </Trigger>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="Background" Value="#151515" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <WrapPanel VerticalAlignment="Center"
                               HorizontalAlignment="Center">
                        <TextBlock Text="←"
                                   Foreground="#ebe3d7"
                                   VerticalAlignment="Center" FontSize="16" />
                        <TextBlock Text="Previous"
                                   VerticalAlignment="Center"
                                   Foreground="#ebe3d7"
                                   FontWeight="Medium"
                                   FontSize="13"
                                   Margin="6 0 0 0" />
                    </WrapPanel>
                </Button>
                <StackPanel VerticalAlignment="Center" Width="100">
                    <TextBlock
                        VerticalAlignment="Center"
                        HorizontalAlignment="Center"
                        FontSize="12.5"
                        FontWeight="ExtraBold"
                        Foreground="#ebe3d7"
                        Text="{Binding CurrentPage, StringFormat='Page {0}'}" />
                </StackPanel>
                <Button Width="120"
                        Command="{Binding NextPageCommand}"
                        Visibility="{Binding NextPageButtonVisibility}">
                    <Button.Style>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            Cursor="Hand"
                                            CornerRadius="5"
                                            BorderThickness="0.75"
                                            BorderBrush="#00FFFFFF"
                                            Background="{TemplateBinding Background}"
                                            Padding="14 6 18 6">
                                            <ContentPresenter />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="Background" Value="#151515" />
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#151515" />
                                </Trigger>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="Background" Value="#151515" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <WrapPanel VerticalAlignment="Center"
                               HorizontalAlignment="Center">
                        <TextBlock Text="Next"
                                   VerticalAlignment="Center"
                                   Foreground="#ebe3d7"
                                   FontWeight="Medium"
                                   FontSize="13" />
                        <TextBlock Text="→"
                                   Margin="6 0 0 0"
                                   Foreground="#ebe3d7"
                                   VerticalAlignment="Center" FontSize="16" />
                    </WrapPanel>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>